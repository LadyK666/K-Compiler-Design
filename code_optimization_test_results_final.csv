测试文件名,测试类型,文件路径,文件内容,代码优化输出,返回码,测试状态
O01_constant_folding.txt,细粒度功能测试,code_optimization_tests\unit_tests\O01_constant_folding.txt,"""int a;
int b;
int c;
{
    a = 10 + 5;
    b = 3 * 4;
    c = a + b;
}""","""===== 必经节点关系 (D[i][j] = 1 表示 Bi DOM Bj) =====
B0 的必经节点: B0
====================

===== 基本块信息 =====
基本块 B0 (TAC索引: 0-8):
  [0] // decl a
  [1] // decl b
  [2] // decl c
  [3] t0 = 10 + 5
  [4] a = t0
  [5] t1 = 3 * 4
  [6] b = t1
  [7] t2 = a + b
  [8] c = t2

====================

===== 程序流图 (控制流图) =====
B0 -> (结束)
====================

===== 回边信息 =====
(无回边)
====================

===== 循环信息 =====
(未发现循环)
====================


===== 优化详情 =====
常量折叠: t0 = 10 + 5 => t0 = 15
常量折叠: t1 = 3 * 4 => t1 = 12

优化统计: 循环不变代码外提 0 处, 常量折叠 2 处, CSE 0 处
====================""",,成功
O02_common_subexpression.txt,细粒度功能测试,code_optimization_tests\unit_tests\O02_common_subexpression.txt,"""int a;
int b;
int c;
int d;
{
    a = 10;
    b = 20;
    c = a + b;
    d = a + b;
}""","""===== 必经节点关系 (D[i][j] = 1 表示 Bi DOM Bj) =====
B0 的必经节点: B0
====================

===== 基本块信息 =====
基本块 B0 (TAC索引: 0-9):
  [0] // decl a
  [1] // decl b
  [2] // decl c
  [3] // decl d
  [4] a = 10
  [5] b = 20
  [6] t0 = a + b
  [7] c = t0
  [8] t1 = a + b
  [9] d = t1

====================

===== 程序流图 (控制流图) =====
B0 -> (结束)
====================

===== 回边信息 =====
(无回边)
====================

===== 循环信息 =====
(未发现循环)
====================


===== 优化详情 =====
公共子表达式消除(CSE): t1 = a + b 复用为 t1 = t0

优化统计: 循环不变代码外提 0 处, 常量折叠 0 处, CSE 1 处
====================""",,成功
O03_loop_invariant.txt,细粒度功能测试,code_optimization_tests\unit_tests\O03_loop_invariant.txt,"""int a;
int b;
int i;
int sum;
{
    a = 10;
    b = 20;
    sum = 0;
    for (i = 0; i < 10; i++;) {
        sum = sum + a * b;
    }
}""","""===== 必经节点关系 (D[i][j] = 1 表示 Bi DOM Bj) =====
B0 的必经节点: B0
B1 的必经节点: B0, B1
B2 的必经节点: B0, B1, B2
B3 的必经节点: B0, B1, B3
B4 的必经节点: B0, B1, B3, B4
B5 的必经节点: B0, B1, B2, B5
====================
调试信息: D[0][1] = 1 (B0 DOM B1), D[1][0] = 0 (B1 DOM B0)

===== 基本块信息 =====
基本块 B0 (TAC索引: 0-7):
  [0] // decl a
  [1] // decl b
  [2] // decl i
  [3] // decl sum
  [4] a = 10
  [5] b = 20
  [6] sum = 0
  [7] i = 0

基本块 B1 (TAC索引: 8-10):
  [8] L0:
  [9] t0 = i < 10
  [10] if t0 goto L1

基本块 B2 (TAC索引: 11-11):
  [11] goto L3

基本块 B3 (TAC索引: 12-15):
  [12] L1:
  [13] t1 = a * b
  [14] t2 = sum + t1
  [15] sum = t2

基本块 B4 (TAC索引: 16-18):
  [16] L2:
  [17] i =  ++ 
  [18] goto L0

基本块 B5 (TAC索引: 19-19):
  [19] L3:

====================

===== 程序流图 (控制流图) =====
B0 -> B1
B1 -> B3, B2
B2 -> B5
B3 -> B4
B4 -> B1
B5 -> (结束)
====================

===== 回边信息 =====
回边 1: B4 -> B1
====================

===== 循环信息 =====
循环 1:
  入口标签: L0
  TAC范围: [8-18]
  包含的基本块: B1, B4, B3
  包含的TAC指令数: 10
  回边: B4 -> B1
====================


===== 优化详情 =====
  外提 t1 = a * (条件a②: 循环内唯一定值)
循环不变代码外提: 从循环 L0 中识别 1 条不变运算，满足外提条件 1 条

优化统计: 循环不变代码外提 1 处, 常量折叠 0 处, CSE 0 处
====================""",,成功
I01_multi_optimization.txt,综合测试,code_optimization_tests\integration_tests\I01_multi_optimization.txt,"""int a;
int b;
int i;
int sum;
int c;
int d;
{
    a = 10;
    b = 20;
    c = 5 + 3;
    d = 2 * 4;
    
    sum = 0;
    for (i = 0; i < 10; i++;) {
        sum = sum + a * b;
        c = a + b;
        d = a + b;
    }
    
    if (sum > 100) {
        print sum;
    }
}""","""===== 必经节点关系 (D[i][j] = 1 表示 Bi DOM Bj) =====
B0 的必经节点: B0
B1 的必经节点: B0, B1
B2 的必经节点: B0, B1, B2
B3 的必经节点: B0, B1, B3
B4 的必经节点: B0, B1, B3, B4
B5 的必经节点: B0, B1, B2, B5
B6 的必经节点: B0, B1, B2, B5, B6
B7 的必经节点: B0, B1, B2, B5, B7
B8 的必经节点: B0, B1, B2, B5, B8
====================
调试信息: D[0][1] = 1 (B0 DOM B1), D[1][0] = 0 (B1 DOM B0)

===== 基本块信息 =====
基本块 B0 (TAC索引: 0-13):
  [0] // decl a
  [1] // decl b
  [2] // decl i
  [3] // decl sum
  [4] // decl c
  [5] // decl d
  [6] a = 10
  [7] b = 20
  [8] t0 = 5 + 3
  [9] c = t0
  [10] t1 = 2 * 4
  [11] d = t1
  [12] sum = 0
  [13] i = 0

基本块 B1 (TAC索引: 14-16):
  [14] L0:
  [15] t2 = i < 10
  [16] if t2 goto L1

基本块 B2 (TAC索引: 17-17):
  [17] goto L3

基本块 B3 (TAC索引: 18-25):
  [18] L1:
  [19] t3 = a * b
  [20] t4 = sum + t3
  [21] sum = t4
  [22] t5 = a + b
  [23] c = t5
  [24] t6 = a + b
  [25] d = t6

基本块 B4 (TAC索引: 26-28):
  [26] L2:
  [27] i =  ++ 
  [28] goto L0

基本块 B5 (TAC索引: 29-31):
  [29] L3:
  [30] t7 = sum > 100
  [31] if t7 goto L4

基本块 B6 (TAC索引: 32-32):
  [32] goto L5

基本块 B7 (TAC索引: 33-34):
  [33] L4:
  [34] print sum

基本块 B8 (TAC索引: 35-35):
  [35] L5:

====================

===== 程序流图 (控制流图) =====
B0 -> B1
B1 -> B3, B2
B2 -> B5
B3 -> B4
B4 -> B1
B5 -> B7, B6
B6 -> B8
B7 -> B8
B8 -> (结束)
====================

===== 回边信息 =====
回边 1: B4 -> B1
====================

===== 循环信息 =====
循环 1:
  入口标签: L0
  TAC范围: [14-28]
  包含的基本块: B1, B4, B3
  包含的TAC指令数: 14
  回边: B4 -> B1
====================


===== 优化详情 =====
  外提 t3 = a * (条件a②: 循环内唯一定值)
  外提 t5 = a + (条件a②: 循环内唯一定值)
  外提 t6 = a + (条件a②: 循环内唯一定值)
循环不变代码外提: 从循环 L0 中识别 3 条不变运算，满足外提条件 3 条
常量折叠: t0 = 5 + 3 => t0 = 8
常量折叠: t1 = 2 * 4 => t1 = 8
公共子表达式消除(CSE): t6 = a + b 复用为 t6 = t5

优化统计: 循环不变代码外提 3 处, 常量折叠 2 处, CSE 1 处
====================""",,成功
